function getEventDatabyTimeframe(t,a,e){axios.get("http://api.smashmail.nl/event/V1/getEventStatisticByEventProcessor?startDate="+a.toISOString()+"&endDate="+e.toISOString()+"&eventProcessor="+t).then(function(t){return t.data.data.forEach(function(t){t.data=JSON.parse(t.data)}),t.data.data})["catch"](function(t){console.log(t)})}function filterEventData(t,a){}function drawGraph(t,a,e){var o=document.getElementById(t);new Chart(o,{type:a,data:e})}axios.get("http://api.smashmail.nl/event/V1/getAllEventProcessors").then(function(t){t.data.data.forEach(function(t){$('[data-select="event_processors"]').append('<option value="'+t.aggregationName+'">'+t.aggregationName+"</option>")})})["catch"](function(t){console.log(t)}),$('[data-button="generate_graph"]').click(function(){function t(t,o){var n=moment(t),r=moment(o);r.diff(n,"months")>0||(r.diff(n,"days")>0?a(n,r):r.diff(n,"hours")>0?e(n,r):r.diff(n,"minutes")>0)}function a(t,a){for(var e=new moment(t),o=new moment(a),n=[],r=e.floor(24,"hours"),i=o.floor(24,"hours"),s=r.clone().subtract(1,"days"),l=i.clone().endOf("day");s.add(1,"days").diff(l)<0;)n.push(s.clone().format("DD-MM-YYYY"));console.log(n)}function e(t,a){var e=new moment(t),o=new moment(a),n=[],r=e.floor(1,"hours"),i=o.floor(1,"hours");console.log(r),console.log(i);var s=r.clone().subtract(1,"hours"),l=i.clone().endOf("hour");for(console.log(s.add(1,"hours"));s.add(1,"hours").diff(l)<0;)console.log(s.clone().format("H:mm")),n.push(s.clone().format("H:00"));console.log(n)}var o=$('[data-select="event_processors"]').val(),n=$("#reportrange").data("daterangepicker").startDate,r=$("#reportrange").data("daterangepicker").endDate,i=[];t(n,r),axios.get("http://api.smashmail.nl/event/V1/getEventStatisticByEventProcessor?startDate="+n.toISOString()+"&endDate="+r.toISOString()+"&eventProcessor="+o).then(function(t){t.data.data.forEach(function(t){t.data=JSON.parse(t.data)}),console.log(t.data.data);var a=_.map(t.data.data,function(t){return t.data.platform_id}),e=_.uniqBy(a,function(t){return t});_.forEach(e,function(a){_.filter(t.data.data,{data:{platform_id:a}})});var o={labels:i,datasets:[{label:"My First dataset",backgroundColor:"rgba(38, 185, 154, 0.31)",borderColor:"rgba(38, 185, 154, 0.7)",pointBorderColor:"rgba(38, 185, 154, 0.7)",pointBackgroundColor:"rgba(38, 185, 154, 0.7)",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"rgba(220,220,220,1)",pointBorderWidth:1,data:[null,20,30,50]},{label:"My Second dataset",backgroundColor:"rgba(38, 185, 154, 0.31)",borderColor:"rgba(38, 185, 154, 0.7)",pointBorderColor:"rgba(38, 185, 154, 0.7)",pointBackgroundColor:"rgba(38, 185, 154, 0.7)",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"rgba(220,220,220,1)",pointBorderWidth:1,data:[30,50,30,50]}]};drawGraph("chartCanvas","line",o)})["catch"](function(t){console.log(t)})});var CURRENT_URL=window.location.href.split("#")[0].split("?")[0],$BODY=$("body"),$MENU_TOGGLE=$("#menu_toggle"),$SIDEBAR_MENU=$("#sidebar-menu"),$SIDEBAR_FOOTER=$(".sidebar-footer"),$LEFT_COL=$(".left_col"),$RIGHT_COL=$(".right_col"),$NAV_MENU=$(".nav_menu"),$FOOTER=$("footer");$(document).ready(function(){var t=function(){$RIGHT_COL.css("min-height",$(window).height());var t=$BODY.outerHeight(),a=$BODY.hasClass("footer_fixed")?-10:$FOOTER.height(),e=$LEFT_COL.eq(1).height()+$SIDEBAR_FOOTER.height(),o=t<e?e:t;o-=$NAV_MENU.height()+a,$RIGHT_COL.css("min-height",o)};$SIDEBAR_MENU.find("a").on("click",function(a){var e=$(this).parent();e.is(".active")?(e.removeClass("active active-sm"),$("ul:first",e).slideUp(function(){t()})):(e.parent().is(".child_menu")||($SIDEBAR_MENU.find("li").removeClass("active active-sm"),$SIDEBAR_MENU.find("li ul").slideUp()),e.addClass("active"),$("ul:first",e).slideDown(function(){t()}))}),$MENU_TOGGLE.on("click",function(){$BODY.hasClass("nav-md")?($SIDEBAR_MENU.find("li.active ul").hide(),$SIDEBAR_MENU.find("li.active").addClass("active-sm").removeClass("active")):($SIDEBAR_MENU.find("li.active-sm ul").show(),$SIDEBAR_MENU.find("li.active-sm").addClass("active").removeClass("active-sm")),$BODY.toggleClass("nav-md nav-sm"),t(),$.fn.mCustomScrollbar&&$(".menu_fixed").mCustomScrollbar({autoHideScrollbar:!0,theme:"minimal",mouseWheel:{preventDefault:!0}})}),$SIDEBAR_MENU.find('a[href="'+CURRENT_URL+'"]').parent("li").addClass("current-page"),$SIDEBAR_MENU.find("a").filter(function(){return this.href==CURRENT_URL}).parent("li").addClass("current-page").parents("ul").slideDown(function(){t()}).parent().addClass("active"),t(),$.fn.mCustomScrollbar&&$(".menu_fixed").mCustomScrollbar({autoHideScrollbar:!0,theme:"minimal",mouseWheel:{preventDefault:!0}})}),"undefined"!=typeof NProgress&&($(document).ready(function(){NProgress.start()}),$(window).load(function(){NProgress.done()}));