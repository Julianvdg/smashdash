function getEventDatabyTimeframe(t,a,e){axios.get("http://api.smashmail.nl/event/V1/getEventStatisticByEventProcessor?startDate="+a.toISOString()+"&endDate="+e.toISOString()+"&eventProcessor="+t).then(function(t){return t.data.data.forEach(function(t){t.data=JSON.parse(t.data)}),t.data.data})["catch"](function(t){console.log(t)})}function filterEventData(t,a){}function drawGraph(t,a,e){var o=document.getElementById(t);new Chart(o,{type:a,data:e})}axios.get("http://api.smashmail.nl/event/V1/getAllEventProcessors").then(function(t){t.data.data.forEach(function(t){$('[data-select="event_processors"]').append('<option value="'+t.aggregationName+'">'+t.aggregationName+"</option>")})})["catch"](function(t){console.log(t)}),$('[data-button="generate_graph"]').click(function(){function t(t,e){var o=moment(t),n=moment(e);return n.diff(o,"months")>0?a("Month",o,n):n.diff(o,"days")>0?a("Day",o,n):n.diff(o,"hours")>0?a("Hour",o,n):n.diff(o,"minutes")>0?a("Minute",o,n):void 0}function a(t,a,e){var o=new moment(a),n=new moment(e),r=[];switch(t){case"Month":for(var i=o,s=n,d=i.clone().subtract(1,"months"),l=s.clone().endOf("month");d.add(1,"months").diff(l)<0;)r.push(d.clone().format("MM-YYYY"));break;case"Day":for(var i=o.floor(24,"hours"),s=n.floor(24,"hours"),d=i.clone().subtract(1,"days"),l=s.clone().endOf("day");d.add(1,"days").diff(l)<0;)r.push(d.clone().format("DD-MM-YYYY"));break;case"Hour":for(var i=o.floor(1,"hours"),s=n.floor(1,"hours"),d=i.clone().subtract(1,"hours"),l=s.clone().endOf("hour");d.add(1,"hours").diff(l)<0;)r.push(d.clone().format("H:mm"));break;case"Minute":for(var i=o.floor(1,"minutes"),s=n.floor(1,"minutes"),d=i.clone().subtract(1,"minutes"),l=s.clone().endOf("minute");d.add(1,"minutes").diff(l)<0;)r.push(d.clone().format("H:mm"))}return r}var e=$('[data-select="event_processors"]').val(),o=$("#reportrange").data("daterangepicker").startDate,n=$("#reportrange").data("daterangepicker").endDate;t(o,n),axios.get("http://api.smashmail.nl/event/V1/getEventStatisticByEventProcessor?startDate="+o.toISOString()+"&endDate="+n.toISOString()+"&eventProcessor="+e).then(function(a){a.data.data.forEach(function(t){t.data=JSON.parse(t.data)}),console.log(a.data.data);var e=_.map(a.data.data,function(t){return t.data.platform_id}),r=_.uniqBy(e,function(t){return t});_.forEach(r,function(t){_.filter(a.data.data,{data:{platform_id:t}})}),console.log(t(o,n));var i={labels:t(o,n),datasets:[{label:"My First dataset",backgroundColor:"rgba(38, 185, 154, 0.31)",borderColor:"rgba(38, 185, 154, 0.7)",pointBorderColor:"rgba(38, 185, 154, 0.7)",pointBackgroundColor:"rgba(38, 185, 154, 0.7)",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"rgba(220,220,220,1)",pointBorderWidth:1,data:[null,20,30,50]},{label:"My Second dataset",backgroundColor:"rgba(38, 185, 154, 0.31)",borderColor:"rgba(38, 185, 154, 0.7)",pointBorderColor:"rgba(38, 185, 154, 0.7)",pointBackgroundColor:"rgba(38, 185, 154, 0.7)",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"rgba(220,220,220,1)",pointBorderWidth:1,data:[30,50,30,50]}]};drawGraph("chartCanvas","line",i)})["catch"](function(t){console.log(t)})});var CURRENT_URL=window.location.href.split("#")[0].split("?")[0],$BODY=$("body"),$MENU_TOGGLE=$("#menu_toggle"),$SIDEBAR_MENU=$("#sidebar-menu"),$SIDEBAR_FOOTER=$(".sidebar-footer"),$LEFT_COL=$(".left_col"),$RIGHT_COL=$(".right_col"),$NAV_MENU=$(".nav_menu"),$FOOTER=$("footer");$(document).ready(function(){var t=function(){$RIGHT_COL.css("min-height",$(window).height());var t=$BODY.outerHeight(),a=$BODY.hasClass("footer_fixed")?-10:$FOOTER.height(),e=$LEFT_COL.eq(1).height()+$SIDEBAR_FOOTER.height(),o=t<e?e:t;o-=$NAV_MENU.height()+a,$RIGHT_COL.css("min-height",o)};$SIDEBAR_MENU.find("a").on("click",function(a){var e=$(this).parent();e.is(".active")?(e.removeClass("active active-sm"),$("ul:first",e).slideUp(function(){t()})):(e.parent().is(".child_menu")||($SIDEBAR_MENU.find("li").removeClass("active active-sm"),$SIDEBAR_MENU.find("li ul").slideUp()),e.addClass("active"),$("ul:first",e).slideDown(function(){t()}))}),$MENU_TOGGLE.on("click",function(){$BODY.hasClass("nav-md")?($SIDEBAR_MENU.find("li.active ul").hide(),$SIDEBAR_MENU.find("li.active").addClass("active-sm").removeClass("active")):($SIDEBAR_MENU.find("li.active-sm ul").show(),$SIDEBAR_MENU.find("li.active-sm").addClass("active").removeClass("active-sm")),$BODY.toggleClass("nav-md nav-sm"),t(),$.fn.mCustomScrollbar&&$(".menu_fixed").mCustomScrollbar({autoHideScrollbar:!0,theme:"minimal",mouseWheel:{preventDefault:!0}})}),$SIDEBAR_MENU.find('a[href="'+CURRENT_URL+'"]').parent("li").addClass("current-page"),$SIDEBAR_MENU.find("a").filter(function(){return this.href==CURRENT_URL}).parent("li").addClass("current-page").parents("ul").slideDown(function(){t()}).parent().addClass("active"),t(),$.fn.mCustomScrollbar&&$(".menu_fixed").mCustomScrollbar({autoHideScrollbar:!0,theme:"minimal",mouseWheel:{preventDefault:!0}})}),"undefined"!=typeof NProgress&&($(document).ready(function(){NProgress.start()}),$(window).load(function(){NProgress.done()}));